{"is_source_file": true, "format": "TypeScript", "description": "This file provides functions related to OAuth authorization, specifically for Jira and Confluence providers. It includes a main function to fetch an OAuth authorization URL from the backend, helper functions for safe text and JSON response parsing, and type definitions relevant to OAuth provider configuration.", "external_files": ["/lib/api"], "external_methods": ["buildBackendUrl"], "published": ["fetchOAuthAuthorizeUrl"], "classes": [], "methods": [{"name": "export async function fetchOAuthAuthorizeUrl( fetchOAuthAuthorizeUrl", "description": "Asynchronously fetches an OAuth authorization URL for the specified provider ('jira' or 'confluence') by requesting the backend. It constructs URL parameters, handles response errors, and extracts the URL from the JSON response.", "scope": "", "scopeKind": ""}, {"name": "async function safeText(res: Response) { safeText", "description": "Safely reads text content from the fetch response, returning an empty string if an error occurs.", "scope": "", "scopeKind": ""}, {"name": "async function safeJson(res: Response) { safeJson", "description": "Safely parses JSON from the fetch response, returning null if an error occurs.", "scope": "", "scopeKind": ""}], "calls": ["buildBackendUrl", "fetch", "safeText", "safeJson"], "search-terms": ["oauth", "buildBackendUrl", "login", "authorization", "provider", "Jira", "Confluence", "fetchOAuthAuthorizeUrl"], "state": 2, "file_id": 94, "knowledge_revision": 484, "git_revision": "", "ctags": [{"_type": "tag", "name": "Provider", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^type Provider = \"jira\" | \"confluence\";$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "authorize", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const authorize = typeof data?.url === \"string\" ? data.url : \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOAuthAuthorizeUrl", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const authorize = typeof data?.url === \"string\" ? data.url : \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOAuthAuthorizeUrl", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const data = await safeJson(res);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOAuthAuthorizeUrl", "scopeKind": "function"}, {"_type": "tag", "name": "fetchOAuthAuthorizeUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export async function fetchOAuthAuthorizeUrl($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const params = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOAuthAuthorizeUrl", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const res = await fetch(url, { headers: { Accept: \"application\\/json\" } });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOAuthAuthorizeUrl", "scopeKind": "function"}, {"_type": "tag", "name": "safeJson", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^async function safeJson(res: Response) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "safeText", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^async function safeText(res: Response) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "txt", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^    const txt = await safeText(res);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOAuthAuthorizeUrl", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const url = buildBackendUrl(`\\/auth\\/${provider}\\/login?${params.toString()}`);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchOAuthAuthorizeUrl", "scopeKind": "function"}], "hash": "05a07ba457b078af40d5a2d1476a6781", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/oauth.ts", "revision_history": [{"484": ""}]}