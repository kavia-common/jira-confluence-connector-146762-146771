{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for OAuth URL construction, including generating random state strings, converting relative URLs to absolute URLs, and building OAuth login URLs for Jira and Confluence providers.", "external_files": ["./api"], "external_methods": ["buildBackendUrl"], "published": ["buildOAuthLoginUrl"], "classes": [], "methods": [{"name": "function generateRandomState(): string { generateRandomState", "description": "Generates a cryptographically-strong random string for OAuth state parameter.", "scope": "", "scopeKind": ""}, {"name": "function toAbsoluteUrl(url: string): string { toAbsoluteUrl", "description": "Converts a relative URL to an absolute URL based on window.location.origin.", "scope": "", "scopeKind": ""}, {"name": "export function buildOAuthLoginUrl( buildOAuthLoginUrl", "description": "Constructs an OAuth login URL with appropriate query parameters for Jira or Confluence.", "scope": "", "scopeKind": ""}], "calls": ["crypto.getRandomValues", "new URL", "buildBackendUrl"], "search-terms": ["OAuth URL construction", "generateRandomState", "buildOAuthLoginUrl", "relative to absolute URL", "Jira OAuth", "Confluence OAuth"], "state": 2, "file_id": 28, "knowledge_revision": 98, "git_revision": "", "revision_history": [{"90": ""}, {"98": ""}], "ctags": [{"_type": "tag", "name": "arr", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^      const arr = new Uint8Array(16);$/", "language": "TypeScript", "kind": "constant", "scope": "generateRandomState", "scopeKind": "function"}, {"_type": "tag", "name": "basePath", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const basePath = `\\/auth\\/${provider}\\/login`;$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "buildOAuthLoginUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export function buildOAuthLoginUrl($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "effectiveScope", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const effectiveScope = (scope ?? \"read\").trim();$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "effectiveState", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const effectiveState = state ?? generateRandomState();$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "generateRandomState", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const effectiveState = state ?? generateRandomState();$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "generateRandomState", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^function generateRandomState(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const params = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "pathWithQs", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const pathWithQs = params.toString() ? `${basePath}?${params.toString()}` : basePath;$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "toAbsoluteUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^function toAbsoluteUrl(url: string): string {$/", "language": "TypeScript", "kind": "function"}], "hash": "ba423cf0f27fd6dd50b11156900ea0b5", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/oauth.ts"}