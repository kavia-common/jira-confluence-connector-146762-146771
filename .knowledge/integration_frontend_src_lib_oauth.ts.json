{"is_source_file": true, "format": "TypeScript", "description": "This file provides OAuth helper utilities for building login URLs and fetching Jira authorization URLs, specifically used for integrating Jira authentication flows in a frontend application.", "external_files": ["fetch"], "external_methods": ["fetch"], "published": ["buildOAuthLoginUrl", "getJiraAuthUrl"], "classes": [], "methods": [{"name": "function getBackendBase(): string { getBackendBase", "description": "Retrieves the backend URL from environment variables, defaulting to an empty string if not set, and trims trailing slashes.", "scope": "", "scopeKind": ""}, {"name": "export function buildOAuthLoginUrl(opts: BuildOAuthLoginUrlOptions): string { buildOAuthLoginUrl", "description": "Constructs a URL to initiate OAuth login flow for specified provider (Jira or Confluence), including optional query parameters.", "scope": "", "scopeKind": ""}, {"name": "export async function getJiraAuthUrl(params?: GetJiraAuthUrlParams): Promise<string> { getJiraAuthUrl", "description": "Fetches the Jira OAuth authorization URL from the backend; if unavailable, falls back to building a legacy login URL.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "buildOAuthLoginUrl"], "search-terms": ["OAuth", "buildOAuthLoginUrl", "getJiraAuthUrl", "jira auth URL", "OAuth login URL construction", "Jira authentication flow"], "state": 2, "file_id": 59, "knowledge_revision": 209, "git_revision": "", "ctags": [{"_type": "tag", "name": "BuildOAuthLoginUrlOptions", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export interface BuildOAuthLoginUrlOptions {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "GetJiraAuthUrlParams", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export interface GetJiraAuthUrlParams {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "Provider", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^type Provider = \"jira\" | \"confluence\";$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "backendBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const backendBase = getBackendBase();$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "backendBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const backendBase = getBackendBase();$/", "language": "TypeScript", "kind": "constant", "scope": "getJiraAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const base =$/", "language": "TypeScript", "kind": "constant", "scope": "getBackendBase", "scopeKind": "function"}, {"_type": "tag", "name": "basePath", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const basePath =$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "buildOAuthLoginUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export function buildOAuthLoginUrl(opts: BuildOAuthLoginUrlOptions): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^    const data = (await resp.json()) as { url?: string };$/", "language": "TypeScript", "kind": "constant", "scope": "getJiraAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "getBackendBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^function getBackendBase(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getJiraAuthUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export async function getJiraAuthUrl(params?: GetJiraAuthUrlParams): Promise<string> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "provider", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const { provider, returnUrl, state, scope } = opts;$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "provider", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  provider: Provider;$/", "language": "TypeScript", "kind": "property", "scope": "BuildOAuthLoginUrlOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "resp", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^    const resp = await fetch(url.toString(), {$/", "language": "TypeScript", "kind": "constant", "scope": "getJiraAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "returnUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const { provider, returnUrl, state, scope } = opts;$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "returnUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  returnUrl?: string;$/", "language": "TypeScript", "kind": "property", "scope": "BuildOAuthLoginUrlOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "scope", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const scope = params?.scope?.trim();$/", "language": "TypeScript", "kind": "constant", "scope": "getJiraAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "scope", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const { provider, returnUrl, state, scope } = opts;$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "scope", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  scope?: string;$/", "language": "TypeScript", "kind": "property", "scope": "BuildOAuthLoginUrlOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "scope", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  scope?: string;$/", "language": "TypeScript", "kind": "property", "scope": "GetJiraAuthUrlParams", "scopeKind": "interface"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const state = params?.state?.trim();$/", "language": "TypeScript", "kind": "constant", "scope": "getJiraAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const { provider, returnUrl, state, scope } = opts;$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  state?: string;$/", "language": "TypeScript", "kind": "property", "scope": "BuildOAuthLoginUrlOptions", "scopeKind": "interface"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  state?: string;$/", "language": "TypeScript", "kind": "property", "scope": "GetJiraAuthUrlParams", "scopeKind": "interface"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^    const url = new URL(\"\\/auth\\/jira\", backendBase);$/", "language": "TypeScript", "kind": "constant", "scope": "getJiraAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const url = backendBase$/", "language": "TypeScript", "kind": "constant", "scope": "buildOAuthLoginUrl", "scopeKind": "function"}], "hash": "1d8ecc091f5b9d40ba083d5c7d5455f5", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/oauth.ts", "fields": [{"name": "export interface BuildOAuthLoginUrlOptions {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface GetJiraAuthUrlParams {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "provider: Provider;", "scope": "BuildOAuthLoginUrlOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "returnUrl?: string;", "scope": "BuildOAuthLoginUrlOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "scope?: string;", "scope": "BuildOAuthLoginUrlOptions", "scopeKind": "interface", "description": "unavailable"}, {"name": "state?: string;", "scope": "BuildOAuthLoginUrlOptions", "scopeKind": "interface", "description": "unavailable"}], "revision_history": [{"209": ""}]}