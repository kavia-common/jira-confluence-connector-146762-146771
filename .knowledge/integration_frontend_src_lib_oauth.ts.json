{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions for generating Atlassian OAuth login URLs, including constructing appropriate URLs with query parameters based on environment variables and input parameters. It contains functions to get the OAuth authorization URL and the frontend base URL.", "external_files": ["@/lib/url"], "external_methods": ["getBackendPublicBaseUrl", "stripTrailingSlash"], "published": ["getAtlassianAuthUrl", "getFrontendBaseUrl"], "classes": [], "methods": [{"name": "export async function getAtlassianAuthUrl(params: GetAtlassianAuthUrlParams): Promise<string> { getAtlassianAuthUrl", "description": "Generates an Atlassian OAuth login URL with appropriate query parameters based on input and environment configuration.", "scope": "", "scopeKind": ""}, {"name": "export function getFrontendBaseUrl(): string { getFrontendBaseUrl", "description": "Returns the configured frontend base URL used for constructing return URLs.", "scope": "", "scopeKind": ""}], "calls": ["stripTrailingSlash", "getBackendPublicBaseUrl", "URL", "URLSearchParams", "console.warn"], "search-terms": ["oauth", "Atlassian", "getAtlassianAuthUrl", "URL", "PKCE", "authorization URL", "frontend base URL"], "state": 2, "file_id": 71, "knowledge_revision": 273, "git_revision": "", "revision_history": [{"257": ""}, {"264": ""}, {"273": ""}], "ctags": [{"_type": "tag", "name": "GetAtlassianAuthUrlParams", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export type GetAtlassianAuthUrlParams = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "backendBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const backendBase = getBackendPublicBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "envBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const envBase = stripTrailingSlash(process.env.NEXT_PUBLIC_FRONTEND_BASE_URL || \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "getFrontendBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "fallback", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^    const fallback = frontendBase ? `${frontendBase}\\/connect` : \"\\/connect\";$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "frontendBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^    const frontendBase = stripTrailingSlash(process.env.NEXT_PUBLIC_FRONTEND_BASE_URL || \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "getAtlassianAuthUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export async function getAtlassianAuthUrl(params: GetAtlassianAuthUrlParams): Promise<string> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getFrontendBaseUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^export function getFrontendBaseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "loginUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const loginUrl = new URL(rel, backendBase);$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "paramsObj", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^    const paramsObj = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^    const qs = paramsObj.toString();$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "rel", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const rel = \"\\/api\\/oauth\\/atlassian\\/login\";$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "returnUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const { returnUrl, state, scope } = params;$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "scope", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const { returnUrl, state, scope } = params;$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/oauth.ts", "pattern": "/^  const { returnUrl, state, scope } = params;$/", "language": "TypeScript", "kind": "constant", "scope": "getAtlassianAuthUrl", "scopeKind": "function"}], "hash": "127af3c96abf749dd961212b5e3b92da", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/oauth.ts"}