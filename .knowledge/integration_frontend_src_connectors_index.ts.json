{"is_source_file": true, "format": "TypeScript", "description": "This file defines connectors and utility functions for parsing trigger prefixes (like '@jira_' and '@confluence_') within a frontend integration project. It exports connector configurations, mappings, and a function to parse trigger positions in text.", "external_files": ["./types", "./jira", "./confluence"], "external_methods": ["escapeRegExp (internal utility)"], "published": ["CONNECTORS", "CONNECTOR_PREFIX_MAP", "CONNECTOR_ID_MAP", "parseTriggerAtCaret", "TriggerParseResult"], "classes": [], "methods": [{"name": "function escapeRegExp(s: string) { escapeRegExp", "description": "Escape special characters in a string for use in a regular expression.", "scope": "", "scopeKind": ""}, {"name": "export function parseTriggerAtCaret( parseTriggerAtCaret", "description": "Parses the input text at the specified caret position to identify if a trigger prefix ('@jira_' or '@confluence_') is present and returns structured information about the match.", "scope": "", "scopeKind": ""}], "calls": ["lastIndexOf", "charAt", "slice", "match", "replace"], "search-terms": ["connectors", "trigger parsing", "at-caret trigger", "prefix recognition", "TypeScript connector"], "state": 2, "file_id": 44, "knowledge_revision": 150, "git_revision": "", "ctags": [{"_type": "tag", "name": "CONNECTORS", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^export const CONNECTORS: ConnectorAdapter[] = [jiraConnector, confluenceConnector];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "CONNECTOR_ID_MAP", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^export const CONNECTOR_ID_MAP: Record<ConnectorAdapter[\"id\"], ConnectorAdapter> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "CONNECTOR_PREFIX_MAP", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^export const CONNECTOR_PREFIX_MAP: Record<ConnectorPrefix, ConnectorAdapter> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "TriggerParseResult", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^export interface TriggerParseResult {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "adapter", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^  adapter: ConnectorAdapter;$/", "language": "TypeScript", "kind": "property", "scope": "TriggerParseResult", "scopeKind": "interface"}, {"_type": "tag", "name": "adapter", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^  for (const adapter of CONNECTORS) {$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "before", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const before = idx === 0 ? \" \" : head.charAt(idx - 1);$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "candidate", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const candidate: TriggerParseResult = { adapter, query, start: idx };$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "confluence", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^  confluence: confluenceConnector,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "confluenceConnector", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^export const CONNECTORS: ConnectorAdapter[] = [jiraConnector, confluenceConnector];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "escapeRegExp", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^function escapeRegExp(s: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fragment", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const fragment = head.slice(idx); \\/\\/ starts with prefix and ends at caret$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "head", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^  const head = text.slice(0, Math.max(0, caret));$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const idx = head.lastIndexOf(adapter.prefix);$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "m", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const m = fragment.match(re);$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "parseTriggerAtCaret", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^export function parseTriggerAtCaret($/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const candidate: TriggerParseResult = { adapter, query, start: idx };$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const query = m[1] || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^  query: string;$/", "language": "TypeScript", "kind": "property", "scope": "TriggerParseResult", "scopeKind": "interface"}, {"_type": "tag", "name": "re", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const re = new RegExp(`^${escapeRegExp(adapter.prefix)}([^\\\\\\\\s]*)$`);$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^    const candidate: TriggerParseResult = { adapter, query, start: idx };$/", "language": "TypeScript", "kind": "constant", "scope": "parseTriggerAtCaret", "scopeKind": "function"}, {"_type": "tag", "name": "start", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/connectors/index.ts", "pattern": "/^  start: number; \\/\\/ start index of the trigger in the source text$/", "language": "TypeScript", "kind": "property", "scope": "TriggerParseResult", "scopeKind": "interface"}], "hash": "5ab45cf3267e77fed0f393a92a96c8af", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/connectors/index.ts", "fields": [{"name": "export interface TriggerParseResult {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "adapter: ConnectorAdapter;", "scope": "TriggerParseResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "query: string;", "scope": "TriggerParseResult", "scopeKind": "interface", "description": "unavailable"}, {"name": "start: number; \\/\\/ start index of the trigger in the source text", "scope": "TriggerParseResult", "scopeKind": "interface", "description": "unavailable"}], "revision_history": [{"150": ""}]}