{"is_source_file": true, "format": "TypeScript", "description": "This file defines connectivity diagnostics for checking the health of a backend service, including functions to perform health checks via fetch to specific endpoints and handling responses.", "external_files": ["./url"], "external_methods": ["getBackendBaseUrl"], "published": ["ConnectivityCheck", "checkBackendConnectivity"], "classes": [], "methods": [{"name": "export async function checkBackendConnectivity(): Promise<ConnectivityCheck> { checkBackendConnectivity", "description": "Performs health checks by fetching /health and / endpoints from the backend and reports the results, including success status for each endpoint and overall health.", "scope": "", "scopeKind": ""}], "calls": ["getBackendBaseUrl", "fetch", "res.headers.get", "res.clone", "res.json", "res.text"], "search-terms": ["Connectivity diagnostics", "health check", "fetch", "backend service", "typescript", "connectivity check"], "state": 2, "file_id": 81, "knowledge_revision": 302, "git_revision": "", "revision_history": [{"293": ""}, {"301": ""}, {"302": ""}], "ctags": [{"_type": "tag", "name": "ConnectivityCheck", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^export type ConnectivityCheck = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "attempted", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const attempted: string[] = [];$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const baseUrl = getBackendBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "checkBackendConnectivity", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^export async function checkBackendConnectivity(): Promise<ConnectivityCheck> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "corsLikely", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const corsLikely = \\/failed to fetch|cors|blocked by|typeerror\\/i.test(message);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "ct", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^        const ct = res.headers.get('content-type') || '';$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^          const data = await res.clone().json();$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const corsLikely = \\/failed to fetch|cors|blocked by|typeerror\\/i.test(message);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "overallOk", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const overallOk = results.some(r => r.ok);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  for (const path of paths) {$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "paths", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const paths = ['\\/health', '\\/'];$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const results: ConnectivityCheck['results'] = [];$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^          const text = await res.clone().text();$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^    const url = `${baseUrl}${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}], "hash": "ac0ce88f04a5a36575d8c91dae5e827c", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/connectivity.ts"}