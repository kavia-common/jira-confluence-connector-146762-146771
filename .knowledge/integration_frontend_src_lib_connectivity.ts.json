{"is_source_file": true, "format": "TypeScript", "description": "This file provides connectivity diagnostics to a backend service, implementing a function to check if backend URLs (/health and /) are reachable and responsive, capturing detailed results for each attempt.", "external_files": ["./url"], "external_methods": ["getBackendBaseUrl"], "published": ["ConnectivityCheck", "checkBackendConnectivity"], "classes": [], "methods": [{"name": "export async function checkBackendConnectivity(): Promise<ConnectivityCheck> { checkBackendConnectivity", "description": "Performs connectivity checks to the backend by sending GET requests to /health and /, collecting response statuses, content snippets, and CORS likelihood, then returns a detailed connectivity result object.", "scope": "", "scopeKind": ""}], "calls": ["getBackendBaseUrl", "fetch", "res.headers.get", "res.clone", "JSON.stringify", "res.text", "res.json"], "search-terms": ["Connectivity diagnostics", "checkBackendConnectivity", "fetch health endpoint", "backend URL", "HTTP GET", "CORS detection", "Response headers", "success/failure report"], "state": 2, "file_id": 81, "knowledge_revision": 327, "git_revision": "", "revision_history": [{"293": ""}, {"301": ""}, {"302": ""}, {"303": ""}, {"307": ""}, {"309": ""}, {"310": ""}, {"327": ""}], "ctags": [{"_type": "tag", "name": "ConnectivityCheck", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^export type ConnectivityCheck = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "attempted", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const attempted: string[] = [];$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const baseUrl = getBackendBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "checkBackendConnectivity", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^export async function checkBackendConnectivity(): Promise<ConnectivityCheck> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "corsLikely", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const corsLikely = \\/failed to fetch|cors|blocked by|typeerror\\/i.test(message);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "ct", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^        const ct = res.headers.get('content-type') || '';$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^          const data = await res.clone().json();$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const corsLikely = \\/failed to fetch|cors|blocked by|typeerror\\/i.test(message);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "overallOk", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const overallOk = results.some(r => r.ok);$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "path", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  for (const path of paths) {$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "paths", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const paths = ['\\/health', '\\/'];$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "responseUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^      const responseUrl = typeof (res as Response).url === 'string' && (res as Response).url$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^  const results: ConnectivityCheck['results'] = [];$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^          const text = await res.clone().text();$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectivity.ts", "pattern": "/^    const url = `${baseUrl}${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "checkBackendConnectivity", "scopeKind": "function"}], "hash": "d1cab3a3ea52853b71f099c890ae933d", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/connectivity.ts"}