{"is_source_file": true, "format": "TypeScript", "description": "This file provides authentication helpers for CSRF token fetching and user login, including functions to retrieve CSRF tokens securely and perform login via credentials, managing related HTTP requests and responses.", "external_files": ["@/lib/api"], "external_methods": ["buildBackendUrl"], "published": ["fetchCsrfToken", "loginWithCredentials"], "classes": [], "methods": [{"name": "export async function fetchCsrfToken(): Promise<string> { fetchCsrfToken", "description": "Fetches a CSRF token from the backend, keeps it in memory, throws error if failed or missing.", "scope": "", "scopeKind": ""}, {"name": "export async function loginWithCredentials(params: { loginWithCredentials", "description": "Performs login by sending credentials and CSRF token, returns login success and optional redirect URL.", "scope": "", "scopeKind": ""}], "calls": ["buildBackendUrl", "fetch", "res.json", "res.text", "res.headers.get"], "search-terms": ["CSRF", "auth", "login", "fetchCsrfToken", "buildBackendUrl"], "state": 2, "file_id": 81, "knowledge_revision": 409, "git_revision": "", "ctags": [{"_type": "tag", "name": "csrf", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const { email, password, csrf } = params;$/", "language": "TypeScript", "kind": "constant", "scope": "loginWithCredentials", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const data = (await res.json()) as Record<string, unknown>;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchCsrfToken", "scopeKind": "function"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const { email, password, csrf } = params;$/", "language": "TypeScript", "kind": "constant", "scope": "loginWithCredentials", "scopeKind": "function"}, {"_type": "tag", "name": "fetchCsrfToken", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^export async function fetchCsrfToken(): Promise<string> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "loginWithCredentials", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^export async function loginWithCredentials(params: {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const { email, password, csrf } = params;$/", "language": "TypeScript", "kind": "constant", "scope": "loginWithCredentials", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchCsrfToken", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "loginWithCredentials", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^    const text = await res.text().catch(() => \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchCsrfToken", "scopeKind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const token =$/", "language": "TypeScript", "kind": "constant", "scope": "fetchCsrfToken", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const url = buildBackendUrl(\"\\/auth\\/csrf\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchCsrfToken", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/auth.ts", "pattern": "/^  const url = buildBackendUrl(\"\\/login\");$/", "language": "TypeScript", "kind": "constant", "scope": "loginWithCredentials", "scopeKind": "function"}], "hash": "ec86300f6b8a61e98549d07a634e36e1", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/auth.ts", "revision_history": [{"409": ""}]}