{"is_source_file": true, "format": "TypeScript", "description": "This file defines utility functions for performing CORS debugging and retrieving authentication status via fetch requests. It includes types for debug headers and response structures, and exports functions that handle network requests with debug information.", "external_files": ["./url"], "external_methods": ["getBackendBaseUrl"], "published": ["fetchWithCorsDebug", "getAuthStatusWithCors"], "classes": [], "methods": [{"name": "export async function fetchWithCorsDebug<T = unknown>(path: string): Promise<CorsDebug<T | strin/ fetchWithCorsDebug", "description": "Performs a fetch request to a specified path, collecting debug information about the response, headers, and URL tried.", "scope": "", "scopeKind": ""}, {"name": "export async function getAuthStatusWithCors(): Promise<{ getAuthStatusWithCors", "description": "Fetches the authentication status, returning a boolean indicating if connected and debug information.", "scope": "", "scopeKind": ""}], "calls": ["getBackendBaseUrl", "fetch"], "search-terms": ["corsDiagnostics", "fetchWithCorsDebug", "getAuthStatusWithCors", "DebugHeaders", "CorsDebug", "CORS", "auth/status"], "state": 2, "file_id": 86, "knowledge_revision": 338, "git_revision": "", "revision_history": [{"331": ""}, {"338": ""}], "ctags": [{"_type": "tag", "name": "AuthStatusShape", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^type AuthStatusShape = { connected?: boolean; [k: string]: unknown };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "CorsDebug", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^type CorsDebug<T> = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "DebugHeaders", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^type DebugHeaders = { [k: string]: string | null };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^    const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^  const base = getBackendBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "collectHeaders", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^    const collectHeaders = (headers: Headers): DebugHeaders => {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "connected", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^  const connected =$/", "language": "TypeScript", "kind": "constant", "scope": "getAuthStatusWithCors", "scopeKind": "function"}, {"_type": "tag", "name": "ct", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^      const ct = res.headers.get(\"content-type\") || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^    const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "fetchWithCorsDebug", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^export async function fetchWithCorsDebug<T = unknown>(path: string): Promise<CorsDebug<T | strin/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getAuthStatusWithCors", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^export async function getAuthStatusWithCors(): Promise<{$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^    const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^    const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "normalizedPath", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^  const normalizedPath = path.startsWith(\"\\/\") ? path : `\\/${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^  const raw = res.data;$/", "language": "TypeScript", "kind": "constant", "scope": "getAuthStatusWithCors", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^    const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^  const res = await fetchWithCorsDebug<AuthStatusShape>(\"\\/auth\\/status\");$/", "language": "TypeScript", "kind": "constant", "scope": "getAuthStatusWithCors", "scopeKind": "function"}, {"_type": "tag", "name": "safeBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^  const safeBase = (base || \"\").replace(\\/\\\\\\/+$\\/, \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/corsDiagnostics.ts", "pattern": "/^  const url = `${safeBase}${normalizedPath}`;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchWithCorsDebug", "scopeKind": "function"}], "hash": "8ea0f9b93b69a890cd58bd0cb6112944", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/corsDiagnostics.ts"}