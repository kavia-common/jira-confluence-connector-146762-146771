{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Next.js API route handler for the '/auth/confluence/login' endpoint. It manages the initiation of the OAuth 2.0 authorization code flow with Atlassian's Confluence service, constructing the appropriate authorization URL with configuration parameters and query params, and redirecting the user accordingly.", "external_files": ["next/server"], "external_methods": ["NextResponse.json", "NextResponse.redirect"], "published": ["GET"], "classes": [], "methods": [{"name": "export async function GET(req: NextRequest) { GET", "description": "Handles GET requests to initiate OAuth flow; validates environment variables, extracts URL parameters, constructs the authorization URL, and issues a redirect.", "scope": "", "scopeKind": ""}], "calls": ["new URL", "url.searchParams", "process.env", "NextResponse.json", "NextResponse.redirect"], "search-terms": ["Confluence OAuth", "Next.js route handler", "authorization URL construction", "OAuth 2.0 initiation", "atlassian authorization"], "state": 2, "file_id": 38, "knowledge_revision": 136, "git_revision": "", "revision_history": [{"127": ""}, {"136": ""}], "ctags": [{"_type": "tag", "name": "GET", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^export async function GET(req: NextRequest) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "authorizeUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const authorizeUrl = new URL(\"\\/authorize\", rawAuthBase);$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "defaultScopes", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const defaultScopes = [$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "dynamic", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^export const dynamic = \"force-static\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "incomingScope", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const incomingScope = params.get(\"scope\")?.trim();$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "params", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const params = url.searchParams;$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "rawAuthBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const rawAuthBase =$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "rawClientId", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const rawClientId =$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "rawRedirectUri", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const rawRedirectUri =$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "returnUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const returnUrl = params.get(\"return_url\")?.trim() || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "revalidate", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^export const revalidate = 0;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "scopeStr", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const scopeStr =$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const state = params.get(\"state\")?.trim() || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const url = new URL(req.url);$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}], "hash": "b8fe68196e6c3aec00afca0ebcb7e606", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/app/auth/confluence/login/route.ts"}