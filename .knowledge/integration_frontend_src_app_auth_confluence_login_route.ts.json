{"is_source_file": true, "format": "TypeScript", "description": "This file defines a server route handler for a Next.js application, specifically managing the /auth/confluence/login GET request. It acts as a proxy to initiate OAuth login flow by redirecting requests to a backend OAuth endpoint, handling configuration-based URL construction, and maintaining certain query parameters.", "external_files": ["next/server"], "external_methods": ["NextResponse.redirect", "URL"], "published": ["dynamic", "revalidate", "GET"], "classes": [], "methods": [{"name": "export async function GET(req: NextRequest) { GET", "description": "Handles the GET request for the OAuth login route, constructs a redirect URL based on environment variables or relative path if backend URL is not configured, and performs an HTTP redirect to initiate the OAuth flow.", "scope": "", "scopeKind": ""}], "calls": ["new URL()", "NextResponse.redirect()", "process.env.NEXT_PUBLIC_BACKEND_URL", "process.env.BACKEND_URL"], "search-terms": ["Next.js route handler", "confluence login", "OAuth proxy", "NextResponse", "server redirect", "app route", "environment variable backend URL", "force-static"], "state": 2, "file_id": 38, "knowledge_revision": 217, "git_revision": "adc535d27f36eed5120e53d0907f29c697fbb7b1", "revision_history": [{"127": ""}, {"136": ""}, {"217": "adc535d27f36eed5120e53d0907f29c697fbb7b1"}], "ctags": [{"_type": "tag", "name": "GET", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^export async function GET(req: NextRequest) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "backendBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const backendBase =$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "dynamic", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^export const dynamic = \"force-static\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "incoming", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const incoming = new URL(req.url);$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "rel", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^    const rel = new URL(\"\\/api\\/oauth\\/atlassian\\/login\", incoming.origin);$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "revalidate", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^export const revalidate = 0;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "target", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/confluence/login/route.ts", "pattern": "/^  const target = new URL(\"\\/api\\/oauth\\/atlassian\\/login\", backendBase);$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}], "hash": "6d4978e63944eda8542ea8a2456957f8", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/app/auth/confluence/login/route.ts"}