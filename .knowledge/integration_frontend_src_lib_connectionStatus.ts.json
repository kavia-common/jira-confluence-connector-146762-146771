{"is_source_file": true, "format": "TypeScript", "description": "This file defines types and functions related to checking the connection status to an Atlassian backend, including making HTTP requests to specific API endpoints and interpreting responses.", "external_files": ["./url"], "external_methods": ["getBackendPublicBaseUrl", "fetch"], "published": ["ConnectionStatus", "checkConnectionStatus"], "classes": [], "methods": [{"name": "export async function checkConnectionStatus(): Promise<ConnectionStatus> { checkConnectionStatus", "description": "Asynchronously checks the connection status to the backend by making a GET request to the '/api/atlassian/resources' endpoint and processing the response to determine if the backend is reachable and if the user is connected.", "scope": "", "scopeKind": ""}], "calls": ["getBackendPublicBaseUrl", "fetch", "Promise.all"], "search-terms": ["connectionStatus", "api/atlassian/resources", "checkConnectionStatus", "Atlassian", "resources endpoint", "backend health check"], "state": 2, "file_id": 84, "knowledge_revision": 316, "git_revision": "", "revision_history": [{"312": ""}, {"314": ""}, {"315": ""}, {"316": ""}], "ctags": [{"_type": "tag", "name": "ConnectionStatus", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^export type ConnectionStatus = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Error", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^    const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "account", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^        const account = typeof cloudNameVal === \"string\" && cloudNameVal.trim()$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^  const base = getBackendPublicBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "checkConnectionStatus", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^export async function checkConnectionStatus(): Promise<ConnectionStatus> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "cloudNameVal", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^        const cloudNameVal =$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "configOk", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^    const [configOk, healthOk] = await Promise.all([$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "details", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^    const details = `Failed to reach resources endpoint. configOk=${configOk} healthOk=${healthO/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^    const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "first", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^        const first = (data as Array<Record<string, unknown>>)[0];$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "first", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^        const first = resources[0];$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "healthOk", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^    const [configOk, healthOk] = await Promise.all([$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "instanceof", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^    const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^    const message = e instanceof Error ? e.message : String(e);$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^    const res = await fetch(resourcesUrl, {$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "resources", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^        const resources = (data as Record<string, unknown>).resources as Array<Record<string, un/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}, {"_type": "tag", "name": "resourcesUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/connectionStatus.ts", "pattern": "/^  const resourcesUrl = `${base}\\/api\\/atlassian\\/resources`;$/", "language": "TypeScript", "kind": "constant", "scope": "checkConnectionStatus", "scopeKind": "function"}], "hash": "494c99994928e82c9715af7b34b646d9", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/connectionStatus.ts"}