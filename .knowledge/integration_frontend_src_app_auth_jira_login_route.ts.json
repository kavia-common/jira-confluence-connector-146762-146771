{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API route handler for the /auth/jira/login endpoint in a Next.js application. It handles GET requests to initiate Jira OAuth 2.0 authorization by constructing a redirect URL to Atlassian's OAuth endpoint, including environment variable validation, URL construction, and error handling.", "external_files": ["next/server"], "external_methods": ["NextResponse.json", "NextResponse.redirect", "URL"], "published": ["dynamic", "revalidate", "GET"], "classes": [], "methods": [{"name": "export async function GET(req: NextRequest) { GET", "description": "Asynchronous function handling GET requests to initiate Jira OAuth login by redirecting users to Atlassian's authorization endpoint, with environment validation and URL construction.", "scope": "", "scopeKind": ""}], "calls": ["new URL(req.url)", "process.env.JIRA_CLIENT_ID", "process.env.NEXT_PUBLIC_JIRA_OAUTH_CLIENT_ID", "process.env.JIRA_OAUTH_REDIRECT_URI", "process.env.NEXT_PUBLIC_JIRA_OAUTH_REDIRECT_URI", "process.env.NEXT_PUBLIC_FRONTEND_BASE_URL", "NextResponse.json", "NextResponse.redirect", "URL.prototype.searchParams.get", "URL.prototype.searchParams.set", "URL.prototype.toString"], "search-terms": ["Jira OAuth", "OAuth redirect handler", "Next.js API route", "OAuth environment validation", "Jira OAuth redirect URL"], "state": 2, "file_id": 35, "knowledge_revision": 123, "git_revision": "d8aa51546b81ff54eae6581ca3739ad908db1659", "revision_history": [{"110": ""}, {"112": ""}, {"113": ""}, {"116": ""}, {"123": "d8aa51546b81ff54eae6581ca3739ad908db1659"}], "ctags": [{"_type": "tag", "name": "GET", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^export async function GET(req: NextRequest) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "authorize", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const authorize = new URL(\"https:\\/\\/auth.atlassian.com\\/authorize\");$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "clientId", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const clientId = rawClientId.trim();$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "defaultReturnUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const defaultReturnUrl = frontendBase ? `${frontendBase}\\/oauth\\/jira` : undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "dynamic", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^export const dynamic = \"error\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "frontendBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const frontendBase = rawFrontendBase.trim().replace(\\/\\\\\\/*$\\/, \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "maybeMsg", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^      const maybeMsg = (e as { message?: unknown }).message;$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "rawClientId", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const rawClientId =$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "rawFrontendBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const rawFrontendBase = process.env.NEXT_PUBLIC_FRONTEND_BASE_URL || \"\";$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "rawRedirectUri", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const rawRedirectUri =$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "redirectUri", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const redirectUri = rawRedirectUri.trim();$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "returnUrlParam", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const returnUrlParam = url.searchParams.get(\"return_url\") || undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "revalidate", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^export const revalidate = 0;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "scope", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const scope = url.searchParams.get(\"scope\") || \"read:jira-user offline_access\";$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const state = url.searchParams.get(\"state\") || undefined;$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "u", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^      const u = new URL(redirectUri);$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/app/auth/jira/login/route.ts", "pattern": "/^    const url = new URL(req.url);$/", "language": "TypeScript", "kind": "constant", "scope": "GET", "scopeKind": "function"}], "hash": "d25c9f989929ecd966137584e5ed5890", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/app/auth/jira/login/route.ts"}