{"is_source_file": true, "format": "TypeScript", "description": "This file defines a set of API utility functions for interacting with backend endpoints related to Jira projects and Confluence pages. It includes functions for constructing backend URLs, handling errors, and fetching project/page data via HTTP GET requests. It also exports certain response and read types for external use.", "external_files": ["./types"], "external_methods": [], "published": ["getApiBaseUrl", "buildBackendUrl", "fetchJiraProjects", "fetchConfluencePages"], "classes": [], "methods": [{"name": "export function getApiBaseUrl(): string { getApiBaseUrl", "description": "Returns the backend API base URL, reading from NEXT_PUBLIC_BACKEND_URL environment variable if available, or the same origin URL as fallback.", "scope": "", "scopeKind": ""}, {"name": "export function buildBackendUrl(path: string): string { buildBackendUrl", "description": "Builds a fully-qualified backend URL for a given path, handling relative paths and fallback to same-origin if base is empty.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchJiraProjects(): Promise<JiraProjectsFetchResponse> { fetchJiraProjects", "description": "Fetches the list of Jira projects from the backend endpoint '/integrations/jira/projects/fetch'.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchConfluencePages(): Promise<ConfluencePagesFetchResponse> { fetchConfluencePages", "description": "Fetches the list of Confluence pages from the backend endpoint '/integrations/confluence/pages/fetch'.", "scope": "", "scopeKind": ""}, {"name": "async function handleJson<T>(res: Response): Promise<T> { handleJson", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["buildBackendUrl", "handleJson", "fetch", "buildBackendUrl", "handleJson", "fetch"], "search-terms": ["API utility", "buildBackendUrl", "fetchJiraProjects", "fetchConfluencePages", "TypeScript", "API endpoints", "environment variable"], "state": 2, "file_id": 27, "knowledge_revision": 100, "git_revision": "", "revision_history": [{"86": ""}, {"97": ""}, {"100": ""}], "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export type ApiError = Error & { status?: number; body?: unknown };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "buildBackendUrl", "scopeKind": "function"}, {"_type": "tag", "name": "buildBackendUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export function buildBackendUrl(path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "envUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const envUrl =$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^    const err: ApiError = new Error(`Request failed with ${res.status}`);$/", "language": "TypeScript", "kind": "constant", "scope": "handleJson", "scopeKind": "function"}, {"_type": "tag", "name": "fetchConfluencePages", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export async function fetchConfluencePages(): Promise<ConfluencePagesFetchResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchJiraProjects", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export async function fetchJiraProjects(): Promise<JiraProjectsFetchResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export function getApiBaseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "handleJson", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^async function handleJson<T>(res: Response): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const url = buildBackendUrl(\"\\/integrations\\/confluence\\/pages\\/fetch\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const url = buildBackendUrl(\"\\/integrations\\/jira\\/projects\\/fetch\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}], "hash": "9fee089afcc1efa3693b94106585fe80", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/api.ts"}