{"is_source_file": true, "format": "TypeScript", "description": "This file provides utility functions and type definitions for interacting with backend APIs related to Jira projects and Confluence pages. It includes functions to build URLs, fetch data from specific API endpoints, and defines types representing Jira and Confluence data structures.", "external_files": ["/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts"], "external_methods": ["fetch"], "published": ["buildBackendUrl", "getApiBaseUrl", "JiraProjectRead", "ConfluencePageRead", "fetchJiraProjects", "fetchConfluencePages"], "classes": [], "methods": [{"name": "export function buildBackendUrl(path: string): string { buildBackendUrl", "description": "Constructs a full backend URL based on environment variables, window location, or default localhost URL, ensuring proper formatting.", "scope": "", "scopeKind": ""}, {"name": "export function getApiBaseUrl(): string { getApiBaseUrl", "description": "Returns the base URL used for backend API calls following the same resolution logic as buildBackendUrl.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchJiraProjects(): Promise<{ provider: string; items: JiraProjectRead[] / fetchJiraProjects", "description": "Fetches Jira project data from the backend endpoint, throws an error if the fetch fails.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchConfluencePages(): Promise<{ provider: string; items: ConfluencePageR/ fetchConfluencePages", "description": "Fetches Confluence page data from the backend endpoint, throws an error if the fetch fails.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "buildBackendUrl"], "search-terms": ["buildBackendUrl", "fetchJiraProjects", "fetchConfluencePages", "ConfluencePageRead", "JiraProjectRead", "api.ts", "TypeScript API functions"], "state": 2, "file_id": 36, "knowledge_revision": 152, "git_revision": "", "ctags": [{"_type": "tag", "name": "ConfluencePageRead", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export type ConfluencePageRead = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "JiraProjectRead", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export type JiraProjectRead = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const base =$/", "language": "TypeScript", "kind": "constant", "scope": "buildBackendUrl", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const base =$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "buildBackendUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export function buildBackendUrl(path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchConfluencePages", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export async function fetchConfluencePages(): Promise<{ provider: string; items: ConfluencePageR/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchJiraProjects", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export async function fetchJiraProjects(): Promise<{ provider: string; items: JiraProjectRead[] /", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export function getApiBaseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, { credentials: \"include\" });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, { credentials: \"include\" });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}, {"_type": "tag", "name": "sanitizedBase", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const sanitizedBase = base.replace(\\/\\\\\\/$\\/, \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "buildBackendUrl", "scopeKind": "function"}, {"_type": "tag", "name": "sanitizedPath", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const sanitizedPath = path.startsWith(\"\\/\") ? path : `\\/${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "buildBackendUrl", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^    const text = await res.text().catch(() => \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^    const text = await res.text().catch(() => \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const url = buildBackendUrl(\"\\/integrations\\/confluence\\/pages\\/fetch\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const url = buildBackendUrl(\"\\/integrations\\/jira\\/projects\\/fetch\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}], "hash": "aec64caa1a1f83251510052938519490", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/api.ts", "revision_history": [{"152": ""}]}