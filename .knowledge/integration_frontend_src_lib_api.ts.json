{"is_source_file": true, "format": "TypeScript", "description": "This file provides client-side API utility functions for fetching Jira projects and Confluence pages. It includes functions for constructing backend URLs based on environment variables, as well as functions to perform fetch requests to retrieve data from backend endpoints, along with related type definitions.", "external_files": ["fetch", "URLSearchParams"], "external_methods": ["fetch", "URLSearchParams.prototype.set", "URLSearchParams.prototype.toString", "String.prototype.startsWith", "RegExp.test"], "published": ["getApiBaseUrl", "buildBackendUrl", "fetchJiraProjects", "fetchConfluencePages", "JiraProjectRead", "ConfluencePageRead"], "classes": [], "methods": [{"name": "export function getApiBaseUrl(): string { getApiBaseUrl", "description": "Returns the backend base URL, reading from the environment variable NEXT_PUBLIC_BACKEND_URL if set, or defaulting to an empty string for same-origin fetches.", "scope": "", "scopeKind": ""}, {"name": "export function buildBackendUrl(path: string): string { buildBackendUrl", "description": "Constructs a full backend URL by appending a given path to the base URL. Handles absolute URLs and defaults to same-origin if the environment variable is not set.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchJiraProjects(ownerId?: number): Promise<JiraProjectsFetchResponse> { fetchJiraProjects", "description": "Performs a fetch request to retrieve Jira projects, optionally filtered by ownerId.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchConfluencePages(ownerId?: number): Promise<ConfluencePagesFetchRespon/ fetchConfluencePages", "description": "Performs a fetch request to retrieve Confluence pages, optionally filtered by ownerId.", "scope": "", "scopeKind": ""}], "calls": ["buildBackendUrl", "fetch", "buildBackendUrl", "fetch"], "search-terms": ["JiraProjectsFetchResponse", "ConfluencePagesFetchResponse", "buildBackendUrl", "fetchJiraProjects", "fetchConfluencePages", "NEXT_PUBLIC_BACKEND_URL", "API endpoint fetch", "getApiBaseUrl"], "state": 2, "file_id": 33, "knowledge_revision": 108, "git_revision": "", "ctags": [{"_type": "tag", "name": "ConfluencePageRead", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export type ConfluencePageRead = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ConfluencePagesFetchResponse", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^type ConfluencePagesFetchResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "JiraProjectRead", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export type JiraProjectRead = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "JiraProjectsFetchResponse", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^type JiraProjectsFetchResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "buildBackendUrl", "scopeKind": "function"}, {"_type": "tag", "name": "buildBackendUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export function buildBackendUrl(path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchConfluencePages", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export async function fetchConfluencePages(ownerId?: number): Promise<ConfluencePagesFetchRespon/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchJiraProjects", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export async function fetchJiraProjects(ownerId?: number): Promise<JiraProjectsFetchResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fromEnv", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const fromEnv =$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export function getApiBaseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^    const msg = `Failed to fetch Confluence pages: ${res.status} ${res.statusText}`;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^    const msg = `Failed to fetch JIRA projects: ${res.status} ${res.statusText}`;$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const normalized = (fromEnv || \"\").replace(\\/\\\\\\/+$\\/, \"\");$/", "language": "TypeScript", "kind": "constant", "scope": "getApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "p", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const p = path.startsWith(\"\\/\") ? path : `\\/${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "buildBackendUrl", "scopeKind": "function"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const qs = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const qs = new URLSearchParams();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, { credentials: \"include\" });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, { credentials: \"include\" });$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const url = buildBackendUrl($/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const url = buildBackendUrl(`\\/integrations\\/jira\\/projects\\/fetch${qs.toString() ? `?${qs}` :/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}], "hash": "dac9d3a2b16b8e938b855a343e8fbccf", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/api.ts", "revision_history": [{"108": ""}]}