{"is_source_file": true, "format": "TypeScript", "description": "This file defines a set of API utility functions for interacting with backend services related to Jira projects and Confluence pages. It includes URL construction, error handling, and fetch functions with type definitions for the data structures.", "external_files": ["fetch"], "external_methods": ["fetch"], "published": ["getApiBaseUrl", "buildBackendUrl", "fetchJiraProjects", "fetchConfluencePages"], "classes": [], "methods": [{"name": "export function getApiBaseUrl(): string { getApiBaseUrl", "description": "Returns the backend API base URL, reading from environment variable or defaults to an empty string for same-origin.", "scope": "", "scopeKind": ""}, {"name": "export function buildBackendUrl(path: string): string { buildBackendUrl", "description": "Builds a full URL for backend API endpoints, appending the provided path to the base URL.", "scope": "", "scopeKind": ""}, {"name": "async function handleJson<T>(res: Response): Promise<T> { handleJson", "description": "Handles JSON responses from fetch, throws errors if response not OK, and parses JSON.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchJiraProjects(): Promise<JiraProjectsFetchResponse> { fetchJiraProjects", "description": "Fetches Jira projects from the backend API endpoint.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchConfluencePages(): Promise<ConfluencePagesFetchResponse> { fetchConfluencePages", "description": "Fetches Confluence pages from the backend API endpoint.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "handleJson"], "search-terms": ["api utility functions", "Jira projects fetch", "Confluence pages fetch", "buildBackendUrl", "handleJson", "NEXT_PUBLIC_BACKEND_URL"], "state": 2, "file_id": 27, "knowledge_revision": 86, "git_revision": "", "ctags": [{"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export type ApiError = Error & { status?: number; body?: unknown };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ConfluencePageRead", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export interface ConfluencePageRead {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "ConfluencePagesFetchResponse", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^type ConfluencePagesFetchResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "JiraProjectRead", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export interface JiraProjectRead {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "JiraProjectsFetchResponse", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^type JiraProjectsFetchResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const base = getApiBaseUrl();$/", "language": "TypeScript", "kind": "constant", "scope": "buildBackendUrl", "scopeKind": "function"}, {"_type": "tag", "name": "buildBackendUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export function buildBackendUrl(path: string): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "envUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const envUrl = typeof process !== \"undefined\" ? process.env.NEXT_PUBLIC_BACKEND_URL : undefine/", "language": "TypeScript", "kind": "constant", "scope": "getApiBaseUrl", "scopeKind": "function"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^    const err: ApiError = new Error(`Request failed with ${res.status}`);$/", "language": "TypeScript", "kind": "constant", "scope": "handleJson", "scopeKind": "function"}, {"_type": "tag", "name": "fetchConfluencePages", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export async function fetchConfluencePages(): Promise<ConfluencePagesFetchResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchJiraProjects", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export async function fetchJiraProjects(): Promise<JiraProjectsFetchResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getApiBaseUrl", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^export function getApiBaseUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "handleJson", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^async function handleJson<T>(res: Response): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  id: number;$/", "language": "TypeScript", "kind": "property", "scope": "ConfluencePageRead", "scopeKind": "interface"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  id: number;$/", "language": "TypeScript", "kind": "property", "scope": "JiraProjectRead", "scopeKind": "interface"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  key: string;$/", "language": "TypeScript", "kind": "property", "scope": "JiraProjectRead", "scopeKind": "interface"}, {"_type": "tag", "name": "lead", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  lead?: string | null;$/", "language": "TypeScript", "kind": "property", "scope": "JiraProjectRead", "scopeKind": "interface"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  name: string;$/", "language": "TypeScript", "kind": "property", "scope": "JiraProjectRead", "scopeKind": "interface"}, {"_type": "tag", "name": "owner_id", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  owner_id: number;$/", "language": "TypeScript", "kind": "property", "scope": "ConfluencePageRead", "scopeKind": "interface"}, {"_type": "tag", "name": "owner_id", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  owner_id: number;$/", "language": "TypeScript", "kind": "property", "scope": "JiraProjectRead", "scopeKind": "interface"}, {"_type": "tag", "name": "page_id", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  page_id: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConfluencePageRead", "scopeKind": "interface"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}, {"_type": "tag", "name": "space_key", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  space_key: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConfluencePageRead", "scopeKind": "interface"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  title: string;$/", "language": "TypeScript", "kind": "property", "scope": "ConfluencePageRead", "scopeKind": "interface"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const url = buildBackendUrl(\"\\/integrations\\/confluence\\/pages\\/fetch\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchConfluencePages", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  const url = buildBackendUrl(\"\\/integrations\\/jira\\/projects\\/fetch\");$/", "language": "TypeScript", "kind": "constant", "scope": "fetchJiraProjects", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  url?: string | null;$/", "language": "TypeScript", "kind": "property", "scope": "ConfluencePageRead", "scopeKind": "interface"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/jira-confluence-connector-146762-146771/integration_frontend/src/lib/api.ts", "pattern": "/^  url?: string | null;$/", "language": "TypeScript", "kind": "property", "scope": "JiraProjectRead", "scopeKind": "interface"}], "hash": "e3ac409aedcb7c3ca8b14713ce62c368", "format-version": 4, "code-base-name": "integration_frontend", "filename": "integration_frontend/src/lib/api.ts", "fields": [{"name": "export interface ConfluencePageRead {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export interface JiraProjectRead {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "id: number;", "scope": "ConfluencePageRead", "scopeKind": "interface", "description": "unavailable"}, {"name": "key: string;", "scope": "JiraProjectRead", "scopeKind": "interface", "description": "unavailable"}, {"name": "lead?: string | null;", "scope": "JiraProjectRead", "scopeKind": "interface", "description": "unavailable"}, {"name": "name: string;", "scope": "JiraProjectRead", "scopeKind": "interface", "description": "unavailable"}, {"name": "owner_id: number;", "scope": "ConfluencePageRead", "scopeKind": "interface", "description": "unavailable"}, {"name": "page_id: string;", "scope": "ConfluencePageRead", "scopeKind": "interface", "description": "unavailable"}, {"name": "space_key: string;", "scope": "ConfluencePageRead", "scopeKind": "interface", "description": "unavailable"}, {"name": "title: string;", "scope": "ConfluencePageRead", "scopeKind": "interface", "description": "unavailable"}, {"name": "url?: string | null;", "scope": "ConfluencePageRead", "scopeKind": "interface", "description": "unavailable"}], "revision_history": [{"86": ""}]}